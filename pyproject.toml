[project]
name = "fsfe-website-build"
version = "0.0.0"
description = "Python tooling to build the fsfe websites"
readme = "README.md"
# Pinned to 3.12 as a known working version, that also has a prebuild wheel for tdewolff-minify
requires-python = "==3.13.*"
dependencies = [
  # XML parser
  "lxml==5.3.*",
  # For getting english language names of languages from two letter codes.
  "python-iso639==2025.2.*",
  # For stopwords for the search index
  "nltk==3.9.*",
  # For minification html css and js
  "tdewolff-minify==2.23.*",
  # For HTTP requests
  "requests==2.32.*",
]

[project.scripts]
build = "fsfe_website_build:main"

[dependency-groups]
dev = ["ruff== 0.12.10", "lefthook==1.12.3", "taplo==0.9.3"]

[build-system]
requires = ["uv_build"]
build-backend = "uv_build"

[tool.uv.build-backend]
module-name = "fsfe_website_build"
module-root = "build"

[tool.ruff.lint]
select = [
  "A",   # prevent using keywords that clobber python builtins
  "B",   # bugbear: security warnings
  "E",   # pycodestyle
  "F",   # pyflakes
  "I",   # ordered import
  "ISC", # implicit string concatenation
  "N",   # pep 8 naming
  "RUF", # the ruff developer's own rules
  "UP",  # alert you when better syntax is available in your python version
  "W",   # pycodestyle warnings
  "Q",   # flake 8 quotes
]
