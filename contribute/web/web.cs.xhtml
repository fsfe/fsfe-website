<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <title>Informace pro webmastery - FSFE</title>
  </head>
  <body>

    <p id="category"><a href="/contribute/">Přispějte</a></p>
    <h1>Webmastering</h1>

    <p id="introduction">
      <em>Web tým </em> spravuje a vyvýjí FSFE - web, tak aby zahrnoval
      to podstatné od <a href="/">fsfe.org</a> až k projektovým stránkám
      a prezentacím jednotilivých kampaní.
      Webmásteři jsou dobrovolníci, kteří pracují na face-aspektu organizace,
      tedy na tom jak bude FSFE vnímána světem, a vylepšují technická
      řešení snažení FSFE prostřednictvím internetu.
    </p>

    <h2>Introdukce</h2>

    <p>
      Technologie a programy použité k údržbě a správě FSFE webu
      by měly být dostatečně přívětivé pro vývojáře a autory a mohou
      také sekundárně přispět k rozšíření obzoru webmástera, pokud se
      s nimi ještě nesetkal.
    </p>

    <p>
      Překladatelé a příležitostní dobrovolníci příjdou do styku s
    </p>

    <ul>
      <li>
        <a href="http://en.wikipedia.org/wiki/XHTML">XHTML</a> – z kterých
        jsou webové stránky generovány
      </li>
      <li>
        <a href="http://subversion.tigris.org/">Subverzemi</a> – pro
        kontrolu verzí zdrojů webu
      </li>
      <li>
        <a href="http://trac.edgewall.org/">Trac systémem</a> – pro přístup
        k managementu oprávnění, řazení výstupů a k ostatním souvisejícím
        servisům.
      </li>
    </ul>

    <p>
      Dobrovolníci zajímající se o hlubší spolupráci by měli mít povědomí
      o
    </p>

    <ul>
      <li>
        <a href="http://www.perl.org/">Perlu</a> – pro správu
        a tvorbu skriptů pro web
      </li>
      <li>
        <a href="http://www.apache.org/">Apache</a> – vebovém serveru
      </li>
    </ul>


    <h2>Jak je web postaven (generován) ?</h2>

    <p>
      Web <var>fsfe.org</var> je spravován v podobě sady XML souborů.
      Webový server generuje HTML stránky z těchto XML souborů
      automaticky každých deset minut. Proto je možné řešit veškerou editaci
      v XML souborech a HTML není potřeba editovat přímo.
    </p>

    <p>
      Každá stránka na fsfe.org má jméno
      <var><em>jméno_stránky</em>.<em>jazyk</em>.html</var>
      (<em>jazyk</em> představují dvě písmenka <a href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO-639 
      kód</a> jazyka(u), jako "en" pro angličtinu nebo "de" pro němčinu).
      Zdrojové soubory jsou pojmenovány
      <var><em>jméno_stránky</em>.<em>jazyk</em>.xhtml</var>.
    </p>

    <p>
      Některé stránky mají dynamický obsah(část):kromě statického textu
      vloženého z XHTML souboru, obsahují informace z jednoho nebo několika
      XML souborů. Když je taková stránka vyvolána prohlížečem,build-system
      sáhne po přeložených XML souborech pokud jsou dostupné, a "spadne"
      zpět do anglické verze u těch části stránky pro které nebyl XML 
      soubor v odpovídajícím překladu nalezen. Stránky proto mohou být
      zobrazeny i částečně přeložené (část česky, část anglicky).
      Příklady takových stránek najdete zde: <a href="/">startovací stránka</a>,
      the <a href="/news/">novinky</a>, a <a href="/events/">události</a>.
    </p>


    <h2>Získání přístupu ke struktuře webu</h2>

    <p>
      Zdrojové soubory webu jsou uloženy na <a href="https://trac.fsfe.org/fsfe-web/browse">fsfe-web subverze
      repozitory,</a> hostované na FSFE subverze serveru.  Ostatní
      služby jsou dostupné na související adrese <a href="https://trac.fsfe.org/fsfe-web">situace v řazení</a>.
    </p>

    <p>
      K získání přístupu k těmto nástrojům jednoduše následujte instrukce:
    </p>

    <ul>
      <li>
        <p>
          Jestliže jsi(jste) <a href="http://fellowship.fsfe.org">Fellow-kolega 
            FSFE,</a> už jsi četl jak přistoupit k subverzi a výpisu řazení;
          potom se jen přihlaš(te) pomocí Vašeho Fellowship uživatelského 
          jména a hesla.
        </p>

        <p>
          K získání oprávnění k zápisu do subverze repozitáře, a
          získání opr. k zápisu do wiki a tiketovacího systému, jednoduše
          kontaktuj(te) <a href="mailto:system-hackers@fsfeurope.org">system-hackers@fsfeurope.org</a>
        </p>
      </li>

      <li>
        <p>
          Guest(host) účet pro přístup k subverzím a track si může vytvořit
          každý sám pomocí formuláře <a href="https://trac.fsfe.org/fsfe-web/register">https://trac.fsfe.org/fsfe-web/register</a>.
          Ihned po registraci získáváte přístup ke čtení subverzí repozitory
          a můžete se přihlásit na stránku řezení(trac site). (všimněte si,    
          že bude přidán před Vaše uživatelské jméno <var>guest-</var> prefix. 
          Následně je odesláno oznámení administrátorovi repozitáře, a následně
          dojde k upravení oprávnění a umožnění zápisu. 
       </p>
      </li>
    </ul>


    <h3>Vyzvednutí větve projektu z repozitory SVN</h3>
        
    <p>
      SVN repozitory obsahuje dvě části zdrojového kódu webu FSFE
      <a href="https://trac.fsfe.org/fsfe-web/browser/trunk">SVN
        <em>kmen</em></a>, který je použit serverem pro generování webu
      <a href="http://fsfe.org/">http://fsfe.org/</a>, a
      <a href="https://trac.fsfe.org/fsfe-web/browser/branches/test"><em>testovací</em>
        větev</a>, která se používá pro stavbu(vývoj) <a href="http://test.fsfe.org/">http://test.fsfe.org/</a>.
    </p>

    <p>
      Pro běžnou práci, jako přidávání nových položek, překlady stránek
      (nebo vývoj detailních změn na webu) bude potřeba vyzvednout si
      projekt (provést tzv. checkout).
    </p>

    <p class="terminal">svn --username <var>VAŠE_JMÉNO</var> co https://svn.fsfe.org/fsfe-web/trunk</p>

    <p>
      Pro práci na větších problémech, nevyjímaje lazení nebo přidávání nových
      vlastností, které by mohly poškodit stránku, je silně doporučováno
      pracovat s <em>testovací větví</em> SVN repozitáře:
    </p>

    <p class="terminal">svn --username <var>VAŠE_JMÉNO</var> co https://svn.fsfe.org/fsfe-web/branches/test</p>

    <p>
      Prosíme, aby jste počítali s místem (nyní) asi 160M pro plně funkční 
      kopii; jestliže se chystáte pracovat jen na části webu, můžete si 
      vyzvednout jen danou část projektu. Můžete <a href="https://trac.fsfe.org/fsfe-web/browser">procházet SVN
        strom</a> online a najít tak, část o kterou máte zájem.
    </p>


    <h2>Práce s repozitářem = repository</h2>

    <p>
      Po prvním vyzvednutí projektu z repozitory je třeba provést
    </p>

    <p class="terminal">$ svn update</p>

    <p>
      a to pokaždé před prací na konkrétním souboru.
    </p>
    
    <p>
      Pro přidání nového souboru nebo adresáře do repozitory, proveďte
      příkaz
    </p>

    <p class="terminal">$ svn add <em>jméno _souboru</em></p>

    <p>
      Pro uložení změn na server, bez ohledu zda jste vytvořili nový soubor
      nebo modifikovali stávající, proveďte
    </p>

    <p class="terminal">$ svn commit <em>jméno_souboru</em></p>

    <p>
      a Váš výchozí editor by se měl připravit pro zadání popisu změn, které 
      byly provedeny.
    </p>

    <p>
      V subverzi, <a href="http://svnbook.red-bean.com/en/1.5/svn.advanced.props.special.keywords.html">musí být klíčové slovo
      substitution</a> povoleno explicitně pro každý soubor. Protože 
      používáme některá klíčová slova v <var>.xml</var> and <var>.xhtml</var> 
      souborech (například <var>$</var><var>Author</var><var>$</var> klíčové 
      slovo v zápatí), můžete povolit automatické přidávání klíčových slov
      tímto ústřižkem do vašeho <var>~/.subversion/config</var>
      souboru:
    </p>

    <p class="file">
      <pre>
enable-auto-props = yes

[auto-props]
*.xml = svn:keywords=Date Author Id Revision;svn:mime-type=text/xml;svn:eol-style=native
*.xhtml = svn:keywords=Date Author Id Revision;svn:mime-type=text/xhtml;svn:eol-style=native
      </pre>
    </p>

    <p>
      Jestliže máte zkušenost s CVS, budete snadno pracovat i se SVN; jak jste   
      si všimli, základní příkazy jsou velmi podobné. Pro více informací
      nahlédněte prosím do rozdílu mezi CVS a SVN na 
      <a href="http://svnbook.red-bean.com/en/1.5/svn.forcvs.html">Subverze pro
      CVS uživatele</a>, a rychlé porovnání referencí CVS a SVN příkazů na
      <a href="http://svn.collab.net/repos/svn/trunk/doc/user/cvs-crossover-guide.html">CVS to SVN Crossover Guide</a>
    </p>

    <p>
      Můžete si také stáhnou detailní manuál pro SVN na <a href="http://svnbook.red-bean.com/">Subversion book</a> stránce
      (my používáme 1.5 SVN vydání-verzi).
    </p>


    <h2>Koordinační nástroje</h2>

    <p>
      Práce na webu je koordinována pomocí <a href="http://lists.fsfe.org/mailman/listinfo/web">Mailového seznamu
      webmástrů</a>.
    </p>

    <p>
      <a href="https://trac.fsfe.org/fsfe-web">Fsfe-web trac instance</a>
      poskytuje	některé další nástroje pro usnadnění koordinace: SVN repozitory 
      web-prohlížeč, list zaření událostí, wiki a další.
    </p>

    <p>
      Opět - více informací o používání trac na <a href="https://trac.fsfe.org/fsfe-web/wiki/TracGuide">TracGuide</a> wiki-stránka.
    </p>

    <p>
      Jestliže máte zájem o záznam se všemi provedenými změnami na zdroji-webu,
      podepište se prosím na <a href="http://lists.fsfe.org/mailman/listinfo/web-cvs-notify">změnovém
      mailing listu</a> - dostanete mail se všemi změnami provedenými ve 
      zdrojovém stromu.
    </p>


    <h2>Zodpovědné zacházení s přístupem pro zápis</h2>

    <p>
      Jetliže máte oprávnění k zápisu, podeppište se prosím pod <a href="http://lists.fsfe.org/mailman/listinfo/web">Webmasters mailing
      list</a>.
    </p>

    <p>
      Prosíme, aby jste si uvědomili, že všechny Vaše změny se na webu projeví
      automaticky, bez jakékoliv kontroly kohokoliv.
      V této souvislosti, je tu pár věcí, které bychom Vám rádi doporučili
      provést při odesílání změn na server:
    </p>

    <ul>
      <li>
        <p>
          FSFE nese zodpovědnost za obsah webových stránek.
          Neprovádějte, prosím proto modifikace, které by mohly  
          změnit význam oproti originálu bez dohody s <a href="/about/members.html">hlavním týmem
          členů FSFE</a>.  (This is not necessary for translations of
          already existing content.)
        </p>
      </li>

      <li>

        <p>
          Pokud publikujete překlad, a esistuje někdo, kdo by jej mohl 
          zkontrolovat - potom této šance, prosím, využijte. Můžete použít
          <a href="http://lists.fsfe.org/mailman/listinfo/translators">Mailing list pro překladatele</a> a zeptat se jestli je někdo 
          ochoten Váš překlad zkontrolovat.  Nebo pokud překládáte a nebo 
          kontrolujete překlad po někom jiném, je vhodné použít některý z 
          automatikých nástrojů, jako třeba GNU aspell, ispell, nebo Váš
          oblíbený kontrolor pravopisu. Například <a href="http://aspell.net/">GNU aspell</a> pro Debian a GNU/Linux systém, stačí nainstalovat
          balíčky <em>aspell</em> a <em>aspell-<strong>XX</strong></em> (kde 
          "XX" je zkratka kódu Vašeho jazyku "cs"), potom jen zpustíte příkaz
        </p>

        <p class="terminal">
          aspell -H -d <em>jazyk</em> -c file.xhtml
        </p>

        <p>
          kde "jazyk" je jméno slovníku Vašeho jazyku; <var>-d</var> 
          přepínač můžete vynechat pokud Váš UNIX jazyk je totožný
          s jazykem slovníku).
        </p>

      </li>

      <li>

        <p>
          Ujistěte se, že všechny soubory jsou regulerní XML. Standardně
          SVN server zkontroluje XML syntaxi souborů s .xml a .xhtml příponou, 
          a nedovolí zapsat změnu, pokud je nalezena v XML chyba. Abychom tomu
          předcházeli, můžete Vaše soubory před odesláním na server 
          zkontrolovat jedním z následujících způsobů.
        </p>
        <p>
          Zde je skript pojmenovaný
          <var>/trunk/tools/validate.pl</var>, který pomůže vyhledání chyby ve
          značce. Nesprávné XML zhodí automatický build-proces web-stránky
          a blokuje update pro celý FSFE web. Jestliže máte pocit, že
          je build-proces přerušen, můžete <a href="http://status.fsfe.org/">se podívat do logu posledního sestavení</a> na naší <a href="http://status.fsfe.org/">stránce stavu</a>.
        </p>

        <p>
          Skript <var>validate.pl</var> vyžaduje <em>XML::LibXML</em>
          Perl modul; jestliže není součástí Vašeho systému, můžete
          ověřit soubory pomocí Vašeho oblíbeného XML validátoru.  
          Například - lze použít příkaz <em>xmllint</em> utilita z <a href="http://xmlsoft.org/"><em>libxml2</em> projektu</a>.
        </p>
       
        <p>
          Jestliže používáte Debian GNU/Linux distribuci, nainstalujte
          <em>libxml2-utils</em> balíček; potom spusťte příkaz
        </p>

        <p class="terminal">xmllint --noout <em>soubor</em>.xhtml</p>

        <p>
          kde <em>soubor</em> specifikuje soubor, který chcete kontrolovat a
          zhlédněte zda jsou výstupem nějaké chybové zprávy.
        </p>

      </li>
      
      <li>

        <p>
          Ujistěte se, že kódování souboru je konzistentní s obsahem a že
          "encoding" atribut se ukazuje v prvním řádku souboru. Např.:
          pokud je Váš soubor kódován v "iso-8859-1" (známo také jako
          "latin-1" kódování), na prvním řádku souboru by mělo stát
        </p>

        <p class="file">&lt;?xml version="1.0" encoding="iso-8859-1" ?&gt;</p>

        <p>
          Jiné validní kódování je unicode, nebo "UTF-8" kódování. Pokud 
          chcete změnit kódování souboru, můžete použít standardní
          <em>iconv</em> utilitu, jako na následujícím příkladu (který 
          konvertuje soubor z "latin1" do "utf-8" encoding):
        </p>

        <p class="terminal">iconv -f LATIN1 -t UTF8 <em>vstupní_soubor</em> &gt; <em>výstupní_soubor</em></p>

      </li>
    </ul>

    <p>
      Prosíme, aby jste se vzájemně koordinovali s ostatními, kteří mají k SVN
      také přístup, tak abychom měli všichni jistotu, že překlady a opravy, 
      kterými přispěli lidé bez oprávnění k zápisu do repozitory, jsou umístěny
      do repozitory vpořádku a po řádném zkontrolování. Samozřejmě, prosíme 
      o kontrolu souborů před odesláním změn stejně pečlivě jako kontrolujete
      své vlastní soubory.
    </p>


    <h2>Další informace</h2>

    <p>
      Protože FSFE web funguje na Evropské/globální úrovni a 
      uživatelsky-volitelném levelu, doplňují ho informace, které jsou
      specifické pro danou zemi, je jistá složitost layoutu(rozvržení)
      pro uživatele ukryta.
    </p>

    <p>
      Jestliže se rozhodnete překládat(přeložit) část webu (předznamenání níže),
      prosím ujistěte se, že jste se seznámili s <a href="Webpage-Structure.txt" target="_blank">referencemi o struktuře</a>.
    </p>

    <p>
      Také je tu <a href="http://www.texinfo.org" target="_blank">Texinfo</a> dokument <em><a href="/README.texi" target="_blank">Webmastering FSFE</a></em> by <a href="mailto:oberg@fsfeurope.org">Jonas Öberg</a>, který 
      implementoval build-system pro web. Prosíme, aby jste si dokument 
      přečetli a zjistili tak více o tom, jak web funguje.
   </p>

  </body>

  <timestamp>$Date$ $Author$</timestamp>
<translator>Zdeněk Vavroušek</translator>
</html>
<!--
Local Variables: ***
mode: xml ***
End: ***
-->
