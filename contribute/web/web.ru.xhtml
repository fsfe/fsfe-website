<?xml version="1.0" encoding="UTF-8" ?>
<html>
<head>
<title>Информация для вебмастеров – ЕФСПО</title>
</head>
<body class="article web" microformats="h-entry" id="information-webmasters">

<p id="category"><a href="/contribute/">Участвуйте!</a></p>

<h1 class="p-name">Вебмастерам</h1>

    <div class="e-content">

<p id="introduction" class="p-summary">
<em>Команда вебмастеров</em> разрабатывает и поддерживает сайты ЕФСПО,
начиная с <a href="/">fsfe.org</a> и заканчивая сайтами проектов
и кампаний. Вебмастеры — это добровольцы, которые улучшают «лицо»
организации и совершенствуют техническую составляющую деятельности фонда
в Интернете.</p>

<h2>Познакомьтесь с нами, познакомьтесь с сайтом</h2>

<p>Если вы хотите получить представление о том, в чем состоит работа
над сайтом ЕФСПО, лучше всего прийти и побеседовать с нами. Некоторые
вебмастеры регулярно присутствуют на канале #fsfe, где мы будем
счастливы встретить вас и ответить на ваши вопросы! Чтобы взглянуть
на список тех, кто работает над сайтом и вообще кто работает с ЕФСПО,
посетите <a href="/about/team.html">страницу нашей команды</a>.</p>

<p>Ваши координаторы по сайту, <a
href="/about/jean/jean.en.html">Николас Джин</a> и <a
href="http://sny.no/">Андреас Тольф Тольфстен</a>.</p>

<h2>Введение</h2>

<p>Техника и программы, которые используются для поддержки сайта ЕФСПО,
хорошо знакомы многим разработчикам и авторам и могут представлять
интерес для тех, кому они еще не известны.</p>

<p>Переводчики и другие добровольцы в своей работе, скорее всего,
столкнутся только с</p>

<ul>
<li><a href="http://ru.wikipedia.org/wiki/XHTML">XHTML</a>, из которых
генерируются страницы.</li>

<li><a href="http://subversion.tigris.org/">Subversion</a>,
для управления версиями исходных текстов страниц.</li>

<li><a href="http://trac.edgewall.org/">Trac</a>, для управления
доступом, отслеживания проблем и связанных с этим служб.</li>
</ul>

<p>Добровольцы, заинтересованные в более глубоком ознакомлении
с процедурами поддержки, должны также быть знакомы с</p>

<ul>
<li><a href="http://www.perl.org/">Perl</a>, для поддержки и программ
генерации страниц.</li>

<li><a href="http://www.apache.org/">Apache</a>, в качестве
веб-сервера.</li>
</ul>

<h2 id="Understanding">Как воспроизводятся страницы сайта</h2>

<p>
Страницы сайта <var>fsfe.org</var> хранятся в виде набора файлов XML,
из которых сервер каждые десять минут автоматически создает страницы
HTML. Таким образом, редактируются только файлы XML, а страницы HTML
никогда напрямую не редактируются.
</p>

<p>Каждая страница <var>fsfe.org</var> называется по схеме
<var><em>название_страницы</em>.<em>язык</em>.html</var>, где
<em>язык</em> является двухбуквенным <a
href="http://ru.wikipedia.org/wiki/ISO_639">кодом языка по ISO-639</a>,
например, «en» — английский,  «de» — немецкий. Названия исходных файлов
состоят
из <var><em>название_страницы</em>.<em>язык</em>.xhtml</var>.</p>

<p>На некоторых страницах есть динамическая часть: помимо фиксированного
текста из файла XHTML, они содержат информацию из одного или нескольких
файлов XML. При их генерации система берет переведенный файл XML, когда
тот доступен, или обращается к английской версии тех файлов XML, которые
еще не переведены. Таким образом на сайте могут возникать страницы,
часть которые переведена, а часть показана на английском. Примеры таких
страниц с динамическими вставками: <a href="/">домашняя страница</a>, <a
href="/news/">страница новостей</a> и <a href="/events/">страница
событий</a>.</p>

<h2 id="Getting">Получение доступа к страницам</h2>

<p>Исходные файлы страниц хранятся в <a
href="https://trac.fsfe.org/fsfe-web/browser">репозитории
subversion</a>, размещенном на сервере ЕФСПО. Другие функции доступны
через систему <a href="https://trac.fsfe.org/fsfe-web">Trac</a>.</p>

<p>Получить доступ к этим инструментам можно следующим образом:</p>

<ul>
<li>
<p>Если вы член <a href="http://fellowship.fsfe.org">Содружества
ЕФСПО</a>, у вас уже есть доступ для чтения, нужно лишь войти со своим
обычным именем и паролем.</p>
</li>

<li>
<p>Если вы не являетесь членом Содружества, вы можете <a
href="https://trac.fsfe.org/fsfe-web/register">зарегистрироваться</a> в
качестве гостя. Таким образом вы получите доступ для чтения в
репозитории (обратите внимание, что к имени пользователя, выбранного
вами, спереди будет добавлено <var>guest-</var>).</p>
</li>
</ul>

<p>Чтобы получить доступ на запись к репозиторию, вики системы Trac и
системы обработки заявок, напишите об этом по адресу <a
href="mailto:system-hackers@fsfeurope.org">system-hackers@fsfeurope.org</a>
(члены административной команды ЕФСПО по умолчанию имеют доступ для
записи).</p>

<h3 id="Checking">Создание рабочих копий ветви SVN</h3>

<p>В репозитории Subversion есть две основных ветви сайта ЕФСПО: <a
href="https://trac.fsfe.org/fsfe-web/browser/trunk"><em>trunk</em></a>,
для главной версии сайта <a
href="http://fsfe.org/">http://fsfe.org/</a>, и <a
href="https://trac.fsfe.org/fsfe-web/browser/branches/test"><em>test</em></a>,
для тестовой версии сайта <a
href="http://test.fsfe.org/">http://test.fsfe.org/</a>.</p>

<p>Для повседневной работы, например, добавления новостей и новых
переводов (или даже для внесения небольших изменений в сайт),
нужно работать с ветвью <em>trunk</em>:</p>

<pre class="term">svn --username <var>ВАШЕ_ИМЯ</var> co https://svn.fsfe.org/fsfe-web/trunk</pre>

<p>Большие изменения в сайте, включая отладку новых особенностей,
которые могут нарушить его нормальную работу, лучше предварительно
испытывать на ветви <em>test</em>:</p>

<pre class="term">svn --username <var>ВАШЕ_ИМЯ</var> co https://svn.fsfe.org/fsfe-web/branches/test</pre>

<p>Обратите внимание, что полная рабочая копия займет около 160 Мб. Если
вы хотите работать над определенной частью сайта, можно извлечь только
ее. Вы можете <a
href="https://trac.fsfe.org/fsfe-web/browser">просмотреть дерево SVN</a>
и узнать, что вас интересует.</p>

<p>Чтобы получить рабочую копию страниц Дня свободы документов,
воспользуйтесь командой:</p>

<pre class="term">svn --username <var>ВАШЕ_ИМЯ</var> co https://svn.fsfe.org/df-web/trunk</pre>

<h2 id="Working">Работа с репозиторием</h2>

<p>В Subversion <a
href="http://svnbook.red-bean.com/en/1.5/svn.advanced.props.special.keywords.html">
подстановка ключевых слов</a> должна включаться явным образом для
каждого файла.  Поскольку некоторые ключевые слова используются в файлах
<var>.xml</var> и <var>.xhtml</var> (например, ключевое слово
<var>$</var><var>Author</var><var>$</var> в нижнем колонтитуле
страницы), вам следует настроить автоматическую замену ключевых слов,
добавив следующий текст в свой файл <var>~/.subversion/config</var>:</p>

    <pre class="file">
enable-auto-props = yes

[auto-props]
*.xml = svn:keywords=Date Author Id Revision;svn:mime-type=text/xml;svn:eol-style=native
*.xhtml = svn:keywords=Date Author Id Revision;svn:mime-type=text/xhtml;svn:eol-style=native
    </pre>

<p>После создания рабочей копии необходимо выполнять</p>

<pre class="term">$ svn update</pre>

<p>каждый раз перед работой над конкретным файлом.</p>

<p>Если вы хотите добавить в репозиторий новые файлы или каталоги, нужно
выполнить</p>

<pre class="term">$ svn add <em>имя_файла</em></pre>

<p>Чтобы включить подстановку ключевых слов для нового файла,
выполните</p>

<pre class="term">$ svn propset svn:keywords "Date Author Id Revision" <em>имя_файла</em></pre>

<p>Для того, чтобы занести свои изменения на сервер, будь то новый или
измененный файл, выполните</p>

<pre class="term">$ svn commit <em>имя_файла</em></pre>

<p>Откроется редактор, который у вас установлен по умолчанию, чтобы
вы могли добавить описание своих изменений.</p>

<p>Если вы знакомы с программой CVS, вы легко разберетесь в SVN, как вы
заметили, основные команды очень похожи. О различиях между CVS и SVN
можно почесть на странице <a
href="http://svnbook.red-bean.com/en/1.5/svn.forcvs.html"> Subversion
для пользователей CVS</a>, а сравнение команд CVS и SVN представлено в
<a
href="http://svn.apache.org/repos/asf/subversion/trunk/doc/user/cvs-crossover-guide.html">
Руководстве по переходу с CVS на SVN</a>.</p>

<p>Загрузить подробное руководство по SVN можно на странице <a
href="http://svnbook.red-bean.com/">Subversion book</a> (ЕФСПО
использует SVN версии 1.5).</p>

<h2 id="Coordination">Средства координации</h2>

<p>Работа над страницами сайта координируется через <a
href="http://lists.fsfe.org/mailman/listinfo/web">список рассылки
для вебмастеров</a>.</p>

<p>Система <a href="https://trac.fsfe.org/fsfe-web">Trac</a>
предоставляет ряд средств для координации: просмотр репозитория SVN,
систему отслеживания задач и вики.</p>

<p>Более подробная информация о системе Trac опубликована в виде <a
href="https://trac.fsfe.org/fsfe-web/wiki/TracGuide">Руководства</a> на
странице вики.</p>

<p>Если вы хотите отслеживать все изменения в исходных текстах страниц,
вы можете также подписаться на <a
href="http://lists.fsfe.org/mailman/listinfo/web-cvs-notify">список
рассылки уведомлений об изменениях</a>, и вы будете получать сообщение о
каждом изменении, внесенном в дерево исходных текстов.</p>

<h2 id="Responsible">Доступ для записи и ответственность</h2>

<p>Если у вас есть доступ на запись, подпишитесь на <a
href="http://lists.fsfe.org/mailman/listinfo/web">список рассылки
для вебмастеров</a>.</p>

<p>Имейте в виду, что все изменения, которые вы внесете, вступят в силу
и станут видны автоматически, без каких бы то ни было дальнейших
действий с чьей-либо стороны. Поэтому есть несколько вещей, которые мы
просим вас делать каждый раз при внесении изменений или добавлении новых
файлов в репозиторий:</p>

<ul>
<li>
<p>ЕФСПО несет ответственность за содержание страниц. Не публикуйте
изменения, которые могут исказить значение текста, без одобрения <a
href="/about/members.html">членов ассоциации ЕФСПО</a>. (Это не
обязательно для переводов уже существующих текстов.)
</p>
</li>

<li>
<p>Если вы размещаете переводы, старайтесь всегда отдавать текст на
проверку при наличии такой возможности. Подпишитесь на <a
href="http://lists.fsfe.org/mailman/listinfo/translators">список
рассылки для переводчиков</a>, чтобы просить о проверке.  Желательно
также всегда пользоваться автоматическими средствами проверки
орфографии, например, <a href="http://aspell.net/">GNU aspell</a>,
ispell или любыми другими. Если у вас Debian GNU/Linux, просто
установите пакеты <em>aspell</em> и <em>aspell-<strong>XX</strong></em>
(где "XX" код вашего языка) и выполните команду</p>

<pre class="term">
aspell -H -d <em>язык</em> -c file.xhtml
</pre>

<p>где «язык» — название словаря языка; <var>-d</var> — можно опустить,
если региональные настройки UNIX совпадают с языком словаря.</p>
</li>

<li>
<p>Убедитесь, что все файлы представляют правильный XML. По умолчанию
сервер SVN проверяет синтаксис файлов XML с расширением .xml и .xhtml и
отменяет изменения, если обнаружит ошибки. Чтобы избежать этого, вы
можете проверять свои файлы перед загрузкой одним из перечисленных ниже
способов.</p>

<p>С помощью сценария <var>/trunk/tools/validate.pl</var>. Он найдет
ошибки в разметке, которые могут вывести из строя автоматическое
обновление страниц на сайте ЕФСПО. Если у вас сложилось впечатление, что
процесс создания страниц нарушен, <a href="http://status.fsfe.org/">
посмотрите журнал последней генерации</a> на <a
href="http://status.fsfe.org/"> странице состояния сервера</a>.</p>

<p>Для сценария <var>validate.pl</var> нужен модуль Perl
<em>XML::LibXML</em>. Если он не установлен, можно проверить файлы с
помощью любой другой программы проверки XML. Например, можно
использовать программу <em>xmllint</em>, запускаемую из командной
строки, входящую в состав пакета <a
href="http://xmlsoft.org/"><em>libxml2</em></a>.</p>

<p>Если вы используете операционную систему Debian GNU/Linux, установите
пакет <em>libxml2-utils</em>; выполните команду</p>

<pre class="term">xmllint --noout <em>файл</em>.xhtml</pre>

<p>где <em>файл</em> — имя файла, который вы хотите проверить, и следите
за возможными сообщениями об ошибках.</p>
</li>

<li>

<p>
Убедитесь, что кодировка файла соответствует содержимому атрибута
«encoding», объявленному в первой строке файла. Например, если файл
записан в кодировке «iso-8859-1» (известной также как «latin-1»), то в
первой строке должно быть написано:</p>

<pre class="file">&#60;?xml version="1.0" encoding="iso-8859-1" ?&#62;</pre>

<p>Другая допустимая кодировка — «UTF-8». Изменить кодировку файла можно
с помощью стандартной программы <em>iconv</em> следующим образом (пример
преобразует кодировку из «latin-1» в «UTF-8»):
</p>

<pre class="term">iconv -f LATIN1 -t UTF8 <em>inputfile</em> &gt; <em>outputfile</em></pre>

</li>
</ul>

<p>Координируйте, пожалуйста, свои действия с другими добровольцами, у
которых тоже есть доступ на запись, чтобы переводы и исправления файлов,
присланные людьми без доступа на запись, можно было заносить после
проверки. И конечно же, проверяйте эти файлы перед тем, как заносить их
в репозиторий, как вы проверяете свои собственные файлы.</p>

<h2>Лицензирование исходного текста</h2>

<p>Каждый раз, когда вы вводите на сайте новую серверную программу
(т.е. на PHP или Perl) или программу на JavaScript, убедитесь,
пожалуйста, что вы соблюдаете наши правила лицензирования, а
именно:</p>

<ul>
<li>Когда вы пишете программы от имени ЕФСПО, будьте любезны поместить
их под <a href="http://www.gnu.org/licenses/agpl.html">AGPLv3+</a> (то
есть AGPL 3.0 с добавлением «или любой более поздней версии»).</li>
<li>Когда вводите программы со стороны, будьте любезны убедиться, что
они распространяются по лицензиям свободных программ, перечисленных на
<a href="http://www.gnu.org/licenses/license-list.html">
http://www.gnu.org/licenses/license-list.html</a></li>
<li>Когда вы пишете программы для ЕФСПО (но вы не сотрудник ЕФСПО), мы
предпочли бы получить программу, лицензированную на условиях AGPLv3+,
GPLv3+, Apache 2.0 или CC0; распространение программы по одной из
лицензий свободных программ обязательно для эксплуатации этой
программы фондом.</li>
</ul>

 <h2>Использование лицензированных материалов</h2>

<p>Если вы воспользовались изображениями или другими материалами,
которые были лицензированы с помощью лицензии Creative Commons или
другой лицензии, вы можете гарантировать, что сведения о лицензии
отображаются верно, добавляя их в конец документа перед &lt;/html&gt;.
Вот три примера:</p>

    <pre class="file">

&#60;legal type="cc-license"&#62;
  &#60;license&#62;https://creativecommons.org/licenses/by-sa/3.0/&#60;/license&#62;
  &#60;notice&#62;This work is published under the Creative Commons BY-SA 3.0 Unported license by John Doe&#60;/notice&#62;
&#60;/legal&#62;


&#60;legal&#62;
  &#60;license&#62;http://www.gnu.org/licenses/fdl-1.3.txt&#60;/license&#62;
  &#60;notice&#62;This page is published under the GNU Free Documentation License 1.3 or later&#60;/notice&#62;
&#60;/legal&#62;

&#60;legal&#62;
  &#60;notice&#62;This work is published undere the CC-BY-SA 3.0 Unported license or the &#60;a href="http://artlibre.org/"&#62;Licence Art Libre 1.3&#60;/a&#62; at your option, etc.&#60;/notice&#62;
&#60;/legal&#62;


    </pre>


    <h2>Другие сайты ЕФСПО</h2>
    
<p>Кроме главного сайта fsfe.org, добровльцы приглашаются к работе над
другими сайтами ЕФСПО и Содружества; более подробные сведения об этом
можно найти в <a href="http://wiki.fsfe.org/FellowshipHacks"
target="_blank">вики ЕФСПО</a>.</p>

    </div>
    <!--/e-content-->

</body>

<sidebar promo="about-fsfe">
    <div id="related-content">
        <h3>Справка:</h3>
        <ul>
            <li>
            <a href="/contribute/web/tagging.html">Использование тэгов и метаданных
	    статьи, создание языковой статьи</a>
            </li>
            <li>
            <a href="/contribute/web/css.html">Редактирование CSS с помощью LESS</a>
            </li>
            <li>
            <a href="/contribute/template.html">Шаблон статьи, использующей новый
	    дизайн сайта</a>
            </li>
        </ul>
    </div>
</sidebar>

<tags>
    <tag>вебмастер</tag>
</tags>

<timestamp>$Date$ $Author$</timestamp>
</html>
<!--
Local Variables: ***
mode: xml ***
End: ***
-->


