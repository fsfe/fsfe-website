<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>Informação para administradores web - FSFE</title>
  </head>
  <body>


    <p id="category"><a href="/contribute/">Participe</a></p>
    <h1>Gerenciamento da web</h1>

    <p id="introduction">
      A <em>equipe web</em> mantém e desenvolve as páginas web da FSFE - que vão desde <a href="/">fsfe.org</a> até as páginas web de projetos e campanhas. Os administradores da web são voluntários que trabalham para melhorar a imagem da organização no mundo e melhorar as soluções técnicas dos nossos esforços na web.
    </p>


    <h2>Introdução</h2>

    <p>
      As tecnologias e os programas usados para manter a página web da FSFE deveriam ser familiares para muitos desenvolvedores e autores, e podem ser de interesse para aqueles que ainda não as descobriram.
    </p>

    <p>
      Os tradutores e voluntários ocasionais provavelmente só vão ter contato com:
    </p>

    <ul>
      <li>
        <a href="http://pt.wikipedia.org/wiki/XHTML">XHTML</a> - a partir dos quais as páginas são geradas
      </li>
      <li>
        <a href="http://subversion.tigris.org/">Subversion</a> - para o controle de versão das fontes das páginas da web
      </li>
      <li>
        <a href="http://trac.edgewall.org/">Trac</a> - para gerenciar permissões de acesso, acompanhamento de problemas e outros serviços relacionados.
      </li>
    </ul>

    <p>
      Os voluntários interessados em explorar a manutenção também devem estar familiarizados com:
    </p>

    <ul>
      <li>
        <a href="http://www.perl.org/">Perl</a> - para a manutenção e as sequências de comandos de criação de páginas
      </li>
      <li>
        <a href="http://www.apache.org/">Apache</a> - como servidor web
      
      </li>
    </ul>


    <h2>Compreendendo como se constroem as páginas web</h2>

    <p>
      As páginas web de <var>fsfe.org</var> mantêm-se como um conjunto de arquivos XML. O servidor web gera as páginas HTML a partir destes arquivos XML automaticamente a cada dez minutos. Em consequência, todas as edições das páginas realizam-se nos arquivos XML e o HTML nunca é editado diretamente.
    </p>

    <p>
      Cada página em fsfe.org denomina-se <var><em>nomedapágina</em>.<em>idioma</em>.html</var> (sendo <em>idioma</em> as duas letras do <a
      href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">código ISO-639</a> para esse idioma, como "en" para o Inglês ou "de" para o Alemão). Os arquivos de origem são nomeados como <var><em>nomedapágina</em>.<em>língua</em>.xhtml</var>.
    </p>

    <p>
      Algumas páginas têm partes dinâmicas: aparte dos textos fixos tomados dos arquivos XHTML, que incluem informação de um ou vários arquivos XML. A cada vez que uma página é construída, o sistema de construção toma os arquivos XML traduzidos, quando estão disponíveis, e retorna à versão em Inglês dos arquivos XML que ainda não têm sido traduzidos. Desta maneira, as páginas podem acabar apresentando partes do texto traduzidas e outras partes que ainda permanecem em Inglês. Alguns exemplos de tais páginas são a <a href="/">página de início</a>, a <a href="/news/">página de notícias</a> e a <a href="/events/">página de eventos</a>.
    </p>


    <h2>Acessando as páginas web</h2>

    <p>
      Os arquivos de código fonte para as páginas web armazenam-se no <a
        href="https://trac.fsfe.org/fsfe-web/browser">repositório subversion fsfe-web</a>, alojado no servidor subversion da FSFE. Outros serviços estão disponíveis na correspondente <a
      href="https://trac.fsfe.org/fsfe-web">instância trac</a>.
    </p>

    <p>
      Para ter acesso a estas ferramentas, só tem que seguir estas instruções:
    </p>

    <ul>
      <li>
        <p>
          Se você é um <a href="http://fellowship.fsfe.org">Fellow da FSFE</a> já tem acesso de leitura a subversion e trac. Só tem que entrar com seu nome de utente e senha da Fellowship.
        </p>

        <p>
          Para ter acesso de escritura ao repositório subversion, o wiki trac e o sistema ticket, simplesmente escreva a <a
          href="mailto:system-hackers@fsfeurope.org">system-hackers@fsfeurope.org</a>
        </p>
      </li>

      <li>
        <p>
          Todo mundo pode registar uma conta de convidado para subversion e trac, através do formulário web <a
          href="https://trac.fsfe.org/fsfe-web/register">https://trac.fsfe.org/fsfe-web/register</a>. Tão cedo como se registe, terá acesso de leitura ao repositório subversion e pode iniciar uma sessão no lugar trac (por favor, tenha em conta que um prefixo <var>guest-</var> será acrescentado ao nome de utente que você escolha). Uma mensagem de notificação será enviada automaticamente ao administrador do repositório, que permitirá o acesso de escritura tão cedo como seja possível.
        </p>
      </li>
    </ul>


    <h3>Comprovando uma rama SVN para trabalhar com ela</h3>
    
    <p>
      O repositório subversion tem duas bases de código principal para a página web da FSFE, o <a
      href="https://trac.fsfe.org/fsfe-web/browser/trunk">SVN<em>trunk</em></a>, que se utiliza para criar a instância de produção da página web em <a href="http://fsfe.org/">http://fsfe.org/</a> e a rama <a
        href="https://trac.fsfe.org/fsfe-web/browser/branches/test"><em>test</em></a>, que se utiliza para construir <a
        href="http://test.fsfe.org/">http://teste.fsfe.org/</a>.
    </p>

    <p>
      Para o trabalho do dia a dia, como a adição de novos conteúdos, a tradução de páginas (ou inclusive o desenvolvimento de pequenas mudanças no site) terá que comprovar o trunk CVS:
    </p>

    <p class="terminal">svn --username <var>SEUNOME</var> co https://svn.fsfe.org/fsfe-web/trunk</p>

    <p>
      Para realizar mudanças importantes no site, incluindo a depuração de novas características que poderiam bloquear ou romper o lugar, animamo-lo a revisar a rama <em>teste</em> do repositório SVN:
    </p>

    <p class="terminal">svn --username <var>SEUNOME</var> co https://svn.fsfe.org/fsfe-web/branches/test</p>

    <p>
      Tenha em conta que para uma cópia operativa completa requerem-se ao redor de 160 Mb; se você só vai trabalhar em uma parte do site, pode procurar só os diretórios nos que você está interessado. Você pode <a
        href="https://trac.fsfe.org/fsfe-web/browser">navegar pela árvore SVN</a> em linha para encontrar o que lhe interessa.
    </p>


    <h2>Trabalhando com o repositório</h2>

    <p>
      Após comprovar o repositório pela primeira vez, deve executar
    </p>

    <p class="terminal">$ svn update</p>

    <p>
      sempre que vaia trabalhar em um arquivo específico.
    </p>
    
    <p>
      Se quer acrescentar novos arquivos ou diretórios no repositório terá que executar
    </p>

    <p class="terminal">$ svn add <em>filename</em></p>

    <p>
      Para enviar as suas mudanças ao servidor, não importa que seja um arquivo novo ou uma modificação em um arquivo existente, execute
    </p>

    <p class="terminal">$ svn commit <em>filename</em></p>

    <p>
      e o seu editor por defeito abrir-se-á para que escreva uma descrição das mudanças que tenha realizado.
    </p>

    <p>
      Em subversion, <a
      href="http://svnbook.red-bean.com/en/1.5/svn.advanced.props.special.keywords.html">a substituição de palavras-chave</a> deve-se ativar explicitamente para cada arquivo. Como usamos algumas palavras-chave nos arquivos <var>.xml</var> e <var>.xhtml</var> (por exemplo, a palavra-chave <var>$</var><var>Author</var><var>$</var> no pé de página), pode habilitar a ativação automática de palavras-chave acrescentando o seguinte fragmento de código no seu arquivo <var>/.subversion/config</var>:
    </p>

    <pre class="file">
enable-auto-props = yes

[auto-props]
*.xml = svn:keywords=Date Author Id Revision;svn:mime-type=text/xml;svn:eol-style=native
*.xhtml = svn:keywords=Date Author Id Revision;svn:mime-type=text/xhtml;svn:eol-style=native
    </pre>

    <p>
      Se está acostumado a trabalhar com CVS, será fácil para você começar a trabalhar com SVN; como pode ter notado, os comandos básicos são muito similares. Para obter mais informação, pode ver um resumem das diferenças entre CVS e SVN em <a href="http://svnbook.red-bean.com/en/1.5/svn.forcvs.html">Subversion para utentes de CVS</a> e uma referência rápida que compara os comandos de CVS e SVN em <a
      href="http://svn.apache.org/repos/asf/subversion/trunk/doc/user/cvs-crossover-guide.html">Guia de mudanças de CVS a SVN</a>
    </p>

    <p>
      Pode descarregar um manual detalhado para SVN na página do <a
      href="http://svnbook.red-bean.com/">livro de subversion</a> (utilizamos a versão 1.5 do SVN).
    </p>


    <h2>Instrumentos de coordenação</h2>

    <p>
      O trabalho nas páginas web é coordenado na <a
      href="http://lists.fsfe.org/mailman/listinfo/web">lista de discussão de administradores web</a>.
    </p>

    <p>
      A <a href="https://trac.fsfe.org/fsfe-web">instância trac de fsfe-web</a> proporciona algumas ferramentas adicionais para ajudar à coordenação: um navegador web para o repositório SVN, um sistema de rastreamento de problemas e uma página wiki.
    </p>

    <p>
      Você pode encontrar mais informação sobre o uso de trac na página wiki <a
      href="https://trac.fsfe.org/fsfe-web/wiki/TracGuide">TracGuide</a>.
    </p>

    <p>
      Se quer estar a par de todas as atualizações que se fazem às fontes das páginas web, também pode se subscrever à <a
      href="http://lists.fsfe.org/mailman/listinfo/web-cvs-notify">lista de discussão de notificação de atualizações</a> e receberá um correio eletrônico para cada mudança publicada na árvore de fontes.
    </p>


    <h2>Uso responsável do acesso de escritura</h2>

    <p>
      Se tem acesso de escritura às páginas web, por favor, subscreva-se à <a
      href="http://lists.fsfe.org/mailman/listinfo/web">lista de discussão de administradores web</a>.
    </p>

    <p>
      Por favor, tenha em conta que todas as mudanças serão efetivas e visíveis de forma automática, sem nenhuma intervenção humana. Em consequência, há algumas coisas que pediríamos que faça de cada vez que realize mudanças ou acrescente novos arquivos:
    </p>

    <ul>
      <li>
        <p>
          A FSFE faz-se responsável pelo conteúdo das páginas web. Por favor, não façam modificações que mudem o significado do texto sem a aprovação de um <a href="/about/team.html">membro da equipa da FSFE</a>. (Isto não é necessário para a tradução dos conteúdos já existentes.)
        </p>
      </li>

      <li>

        <p>
          Se envia traduções e há alguma possibilidade de que outros precisem as corrigir, aproveite essa oportunidade. Você pode utilizar a <a
          href="http://lists.fsfe.org/mailman/listinfo/translators">lista de discussão de tradutores</a> para solicitar uma revisão. Se você está a traduzir ou corrigir arquivos, animamo-lo a que realize uma correção ortográfica automática utilizando algumas ferramentas, tais como GNU aspell, ispell ou seu corretor ortográfico favorito. Por exemplo, para utilizar <a
          href="http://aspell.net/">GNU aspell</a> em um sistema Debian GNU/Linux, só tem que instalar os pacotes <em>aspell</em> e <em>aspell-<strong>XX</strong></em> (onde "XX" é o código do idioma). A seguir, execute o comando
        </p>

        <p class="terminal">
          
          
          
          aspell -H -d <em>language</em> -c file.xhtml
        
        
        
        </p>

        <p>
          onde "languaje" é o nome do dicionário da língua. A opção <var>-d</var> pode ignorar-se se a configuração regional de UNIX é a mesma que o idioma do dicionário).
        </p>

      </li>

      <li>

        <p>
          Assegure-se de que todos os arquivos XML são corretos. De forma predeterminada, o servidor SVN comprovará a sintaxe XML de arquivos com extensões .xml e .xhtml, e evitará a atualização se encontra erros. Para evitar isto, você pode comprovar seus arquivos dantes dos enviar, de alguma das seguintes maneiras.
        </p>
        <p>
          Há uma sequência de comandos chamada <var>/trunk/tools/validate.pl</var> que ajuda a encontrar erros no marcado. Os XML incorretos rompem o processo de geração automática das páginas web e as atualizações de blocos para todo o site da FSFE. Se você suspeita que o processo de geração pôde se romper, pode <a
          href="http://status.fsfe.org/">ver o registo da última execução da geração</a> nas nossas <a href="http://status.fsfe.org/">páginas de estado</a>.
        </p>

        <p>
          A sequência de comandos <var>validate.pl</var> requer o módulo Perl <em>XML::LibXML</em>. Se não está instalado no seu sistema, pode validar arquivos usando o seu validador XML favorito. Por exemplo, pode usar a utilidade de linha de comandos <em>xmllint</em> do projeto <a
          href="http://xmlsoft.org/"><em>libxml2</em></a>.
        </p>
       
        <p>
          Se está a utilizar a distribuição Debian GNU/Linux, instale o pacote <em>libxml2-utils</em> e execute o comando
        </p>

        <p class="terminal">xmllint --noout <em>file</em>.xhtml</p>

        <p>
          onde <em>file</em> especifica o arquivo que deseja comprovar, e veja as possíveis mensagens de erro. Se não existem erros não aparecerão mensagens.
        </p>

      </li>
      
      <li>

        <p>
          Assegure-se de que a codificação do arquivo coincide com o conteúdo do atributo "encoding" declarado na primeira linha do arquivo. Por exemplo, se o arquivo está codificado como "iso-8859-1" (também conhecido como codificação "latin-1"), a primeira linha do arquivo deve dizer
        </p>

        <p class="file">&lt;?xml version="1.0" encoding="iso-8859-1" ?&gt;</p>

        <p>
          Outra codificação válida é a unicode, ou codificação "UTF-8". Se deseja mudar a codificação de um arquivo, pode utilizar a utilidade regular <em>iconv</em>, como no seguinte exemplo (que converte um arquivo da codificação "latin1" à "utf-8"):
        </p>

        <p class="terminal">iconv -f LATIN1 -t UTF8 <em>inputfile</em> &gt; <em>outputfile</em></p>

      </li>
    </ul>

    <p>
      Por favor, mantenha a coordenação com outras pessoas que também têm acesso de escritura ao SVN para se assegurar de que as traduções e correções contribuídas por pessoas que não têm acesso de escritura se atualizam corretamente após que tenham sido corrigidas. Por suposto, por favor, comprove estes arquivos dantes de atualizá-los, como se estivesse a comprovar os seus próprios arquivos.
    </p>


    <h2>Mais informação</h2>

    <p>
      Tendo em conta que as páginas web da FSFE se estruturam em níveis europeus/mundiais e outros níveis locais, elegidos pelos utentes, que os complementam ao fornecer informação específica da cada país, o desenho tem uma verdadeira complexidade que se oculta por completo aos utentes do site.
    </p>

    <p>
      Também pode ver o arquivo de documentação <a href="http://www.texinfo.org"
      target="_blank">Texinfo</a> <em><a href="/README.texi"
      target="_blank">Webmastering FSFE</a></em> de <a
      href="mailto:oberg@fsfeurope.org">Jonas Öberg</a>, quem implementou o sistema de construção da página. Por favor, leia-o para saber mais sobre como funcionam as nossas páginas web.
    </p>

  </body>

  <timestamp>$Date: 2010-07-07 03:16:55 +0000 (Wed, 07 Jul 2010) $ $Author: hugo $</timestamp>
  <translator>pcgaldo</translator>
</html><!--
Local Variables: ***
mode: xml ***
End: ***
-->

