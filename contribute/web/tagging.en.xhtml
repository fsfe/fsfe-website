<?xml version="1.0" encoding="UTF-8" ?>
<html>
  <head>
    <title>Documentation - Tagged news and events, country pages</title>
  </head>
  <body>

    <p id="category"><a href="/contribute/">Contribute</a></p>
    <h1>Documentation - Tagged news and events, country pages</h1>

    <p id="introduction">
      As you can see on <a href="/uk/uk.html">the UK page</a>,
      it is possible to display news or events that have a special tag,
      e.g. a country code.
      This helps setting up pages easily with specific news items or events.
      The list of people displayed on this same page has also been automated,
      so it makes it easy to implement your own country page.
    </p>
    
    <p>
      <img src="/graphics/icons/warning.png" />
      The first system we have used, an attribute consisting of
      comma-separated values, was not very adapted to the way we generate
      dynamic information.
      Therefore, we have opted for the hereunder defined system, a more
      xml-style one.
    </p>


    <h2>Tagged news and events</h2>
    
    <p>In order to retrieve news items or events with a given tag, these
    have of course to be tagged accordingly. To do that, add as many 
    &lt;tag&gt;...&lt;/tag&gt; as necessary in the tags section.</p>
    
    <p>
      A list of tags currently in use can be found <a href="/tags/tags.html">here</a>.
    </p>
    
    <ul>
      <li>For news items and newsletters, within &lt;html&gt; &lt;/html&gt; if your file has the <var>xhtml</var> extension:</li>
    </ul>
    
    <p class="terminal">
      &lt;html&gt;<br/>
      [...]<br/>
      &lt;tags&gt;<br/>
      &lt;tag&gt;front-page&lt;/tag&gt;<br/>
      &lt;tag&gt;swpats&lt;/tag&gt;<br/>
      &lt;tag&gt;novell&lt;/tag&gt;<br/>
      &lt;/tags&gt;<br/>
      &lt;/html&gt;
    </p>
    
    <ul>
      <li>And, within &lt;news&gt; &lt;/news&gt; if your file has the <var>xml</var> extension:</li>
    </ul>
    
    <p class="terminal">
      &lt;news&gt;<br/>
      [...]<br/>
      &lt;tags&gt;<br/>
      &lt;tag&gt;front-page&lt;/tag&gt;<br/>
      &lt;tag&gt;swpats&lt;/tag&gt;<br/>
      &lt;tag&gt;novell&lt;/tag&gt;<br/>
      &lt;/tags&gt;<br/>
      &lt;/news&gt;
    </p>
    
    <ul>
      <li>For events, within &lt;event&gt; &lt;/event&gt;:</li>
    </ul>
    
    <p class="terminal">
      &lt;event&gt;<br/>
      [...]<br/>
      &lt;tags&gt;<br/>
      &lt;tag&gt;front-page&lt;/tag&gt;<br/>
      &lt;tag&gt;it&lt;/tag&gt;<br/>
      &lt;/tags&gt;<br/>
      &lt;/event&gt;
    </p>
    
    <p>Please note that only events and news items being tagged as <var>front-page</var>
    will appear on the front page of fsfe.org!</p>
    
    <p>
    Tags should all be written in English; there is no need for translation
    since the tags do not appear online, but are used internally for
    filtering news items or events.
    </p>
    
    
    <h3>Using the fetch-news template</h3>

    <ul>
      <li>
        the <var>tag</var> parameter defines what news will be displayed. If you are
        building up a country page, this is your country code. Leave blank
        if you wish to receive news items with any tags.
      </li>
    </ul>
    
    <p class="terminal">&lt;xsl:with-param name="tag" select="'<var>your tag</var>'"/&gt;</p>
    
    <ul>
      <li>
        the <var>nb-items</var> parameter determines how many news items will be displayed
      </li>
    </ul>
    
    <p class="terminal">&lt;xsl:with-param name="nb-items" select="'<var>x</var>'" /&gt;</p>
    
    
    <h3>Using the fetch-newsletter template</h3>

    <p>Works exactly as the fetch-news template, but does not propose tagging yet.</p>
    
    
    <h3>Using the fetch-events template</h3>
    
    <p>
        fetch-events works in a very similar manner to fetch-news, <var>tag</var> and <var>nb-items</var>
        work the same way. Here are some addings:
    </p>
    
    <ul>
      <li>
        the <var>wanted-time</var> parameter defines what events you want
        to display, "past", "present" or "future"
      </li>
    </ul>
    
    <p class="terminal">&lt;xsl:with-param name="wanted-time" select="'<var>future|present|past</var>'" /&gt;</p>
    
    <ul>
      <li>
        the <var>header</var> parameter determines the text that will be displayed on top
        of your block of events (used e.g. on events/events.xsl).
        Possible values are 'future', 'current' or 'past'. Leave blank if you
        don't want any header.
      </li>
    </ul>
    
    <p class="terminal">&lt;xsl:with-param name="header" select="'<var>future|current|past</var>'" /&gt;</p>
    
    <ul>
      <li>
        the <var>display-details</var> parameter says if 'yes' or 'no' you will have
        the text of each event displayed along with its date and title.
      </li>
    </ul>
    
    <p class="terminal">&lt;xsl:with-param name="display-details" select="'<var>yes|no</var>'" /&gt;</p>
    
    
    
    <h2>Implementing a country page</h2>
    
    <p>
      Implementing a country page won't take you long.
      <a href="/uk/uk.html">United Kingdom</a> and
      <a href="/de/de.html">Germany</a> country pages are a good example
      of what you can achieve easily and how.
    </p>
    
    <p>
      <strong>1. </strong>
      The very first thing to do is to create a folder with your country
      code, e.g. "/de", "/uk" or "/it" in the root folder of the fsfe-web
      svn (you will see other country folders there).<br/>
      You may want to copy the three common files you'll find in already
      existing country folders, e.g uk.en.xhtml, uk.xsl and uk.sources,
      and of course rename them accordingly.
    </p>
    
    <p>
      <strong>2. </strong>
      You should not have to modify **.sources.
      You want to change the <var>countrycode</var>
      variable in the **.xsl file to your country code, modifying the
      following line.
        
      <p class="terminal">&lt;xsl:variable name="country-code"&gt;<var>xx</var>&lt;/xsl:variable&gt;</p>
      
      In the **.**.xhtml page, you should only change the identi.ca
      account, or deactivate it if your country team does not have one yet.
      
      <p class="terminal">"user":"fsfeuk",</p>
      
      Play further with this file if you want to change the display of
      your country page.
      
    </p>
    
    <h3>Using the country-people-list template</h3>
    
    <ul>
      <li>(the call to country-people-list in **.xsl is responsible for the displayed people list)</li>
      <li>add the <var>xx</var> tag to corresponding people in /about/people/people.en.xml, e.g.</li>
    </ul>
    
    <p class="terminal">&lt;person id="mueller" member="yes" teams="main, de"&gt;</p>
    
    <p>
      People tagged with your country code will appear in your country
      page's people list. (If you want to add a person that is not there yet,
      be careful not to add him/her to the "main" team if he/she is not
      a member of it).
    </p>
    
    <p>
      For people's pictures, you want to put a 48*48 pixels picture in the
      /about/<var>id</var> folder, named <var>id</var>-avatar.jpg (where
      <var>id</var> is the id defined in /about/people/people.en.xml).
    </p>
    
  </body>

  <timestamp>$Date: 2010-07-07 05:16:55 +0200 (Wed, 07 Jul 2010) $ $Author: hugo $</timestamp>
</html>
<!--
Local Variables: ***
mode: xml ***
End: ***
-->
