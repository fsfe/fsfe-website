NameVirtualHost *:80

<Directory /home/www/html/*>
        AllowOverride FileInfo
</Directory>

<VirtualHost _default_:80>
	ErrorLog /var/log/apache/fsfeurope.org-error.log
	CustomLog /var/log/apache/fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/global/
	ScriptAlias /cgi-bin/ /home/www/html/global/cgi-bin/
	ServerName fsfeurope.org
	ServerAlias www.fsfeurope.org

        RewriteEngine on
        # rewrite first/referred access from .fr TLD to French focus
        RewriteCond   %{REMOTE_HOST}   ^.*\.fr$                                    [NC]
        RewriteCond   %{HTTP_REFERER}  !(.*fsfeurope.org.*)                        [NC]
        RewriteRule   ^(.*)$           http://www.france.fsfeurope.org$1            [L]

        # rewrite first/referred access from .se TLD to Swedish focus
        RewriteCond   %{REMOTE_HOST}   ^.*\.se$                                    [NC]
        RewriteCond   %{HTTP_REFERER}  !(.*fsfeurope.org.*)                        [NC]
        RewriteRule   ^(.*)$           http://www.sweden.fsfeurope.org$1            [L]

        # rewrite first/referred access from .it TLD to Italian focus
        RewriteCond   %{REMOTE_HOST}   ^.*\.it$                                    [NC]
        RewriteCond   %{HTTP_REFERER}  !(.*fsfeurope.org.*)                        [NC]
        RewriteRule   ^(.*)$           http://www.italy.fsfeurope.org$1            [L]

        # rewrite first/referred access from .at TLD to German focus
        RewriteCond   %{REMOTE_HOST}   ^.*\.at$                                    [NC]
        RewriteCond   %{HTTP_REFERER}  !(.*fsfeurope.org.*)                        [NC]
        RewriteRule   ^(.*)$           http://www.germany.fsfeurope.org$1          [L]
        # rewrite first/referred access from .de TLD to German focus
        RewriteCond   %{REMOTE_HOST}   ^.*\.de$                                    [NC]
        RewriteCond   %{HTTP_REFERER}  !(.*fsfeurope.org.*)                        [NC]
        RewriteRule   ^(.*)$           http://www.germany.fsfeurope.org$1          [L]

        # rewrite first/referred access from .es TLD to Spannish focus
        RewriteCond   %{REMOTE_HOST}   ^.*\.es$                                    [NC]
        RewriteCond   %{HTTP_REFERER}  !(.*fsfeurope.org.*)                        [NC]
        RewriteRule   ^(.*)$           http://www.spain.fsfeurope.org$1          [L]


</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/spain.fsfeurope.org-error.log
	CustomLog /var/log/apache/spain.fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/es/
	ScriptAlias /cgi-bin/ /home/www/html/es/cgi-bin/
	ServerName spain.fsfeurope.org
	ServerAlias www.spain.fsfeurope.org
</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/france.fsfeurope.org-error.log
	CustomLog /var/log/apache/france.fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/fr/
	ScriptAlias /cgi-bin/ /home/www/html/fr/cgi-bin/
	ServerName france.fsfeurope.org
	ServerAlias www.france.fsfeurope.org
</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/italy.fsfeurope.org-error.log
	CustomLog /var/log/apache/italy.fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/it/
	ScriptAlias /cgi-bin/ /home/www/html/it/cgi-bin/
	ServerName italy.fsfeurope.org
	ServerAlias www.italy.fsfeurope.org
</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/germany.fsfeurope.org-error.log
	CustomLog /var/log/apache/germany.fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/de/
	ScriptAlias /cgi-bin/ /home/www/html/de/cgi-bin/
	ServerName germany.fsfeurope.org
	ServerAlias www.germany.fsfeurope.org
</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/sweden.fsfeurope.org-error.log
	CustomLog /var/log/apache/sweden.fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/se/
	ScriptAlias /cgi-bin/ /home/www/html/se/cgi-bin/
	ServerName sweden.fsfeurope.org
	ServerAlias www.sweden.fsfeurope.org
</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/status.fsfeurope.org-error.log
	CustomLog /var/log/apache/status.fsfeurope.org-access.log combined
	DocumentRoot /var/www/
	ServerName status.fsfeurope.org
</VirtualHost>

<VirtualHost *:80>
	ErrorLog /var/log/apache/test.fsfeurope.org-error.log
	CustomLog /var/log/apache/test.fsfeurope.org-access.log combined
	DocumentRoot /home/www/html/test/
	ScriptAlias /cgi-bin/ /home/www/html/test/cgi-bin/
	ServerName test.fsfeurope.org
</VirtualHost>
